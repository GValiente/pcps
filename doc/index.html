<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pcps: pcps</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pcps
   </div>
   <div id="projectbrief">Point Cloud Plane Segmentator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">pcps </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>pcps is a small C++11 library which provides point cloud segmentation into planes with similar surface normals.</p>
<p>Since pcps allows computing the segmentation into the GPU besides the CPU, it can segment an <a href="http://pointclouds.org/documentation/tutorials/basic_structures.php">organized point cloud</a> of 320x320 in less than 10 milliseconds on a Nvidia Geforce GTX 1060 6GB.</p>
<div class="image">
<img src="screenshot.png?raw=true" alt="pcps viewer screenshot"/>
</div>
<h2>Features</h2>
<ul>
<li><a href="http://pointclouds.org/documentation/tutorials/basic_structures.php">Organized and disorganized point clouds</a> are allowed as input.</li>
<li>Three implemenentation backends are provided: CPU, OpenCL and CUDA.</li>
<li>Allocated memory can be reused between different segmentations.</li>
<li>Multiple tests are present for each provided algorithm.</li>
<li>A 3D test viewer allows to see the output of each segmentation algorithm and to change their thresholds.</li>
<li>Base library without external dependencies (the viewer and the tests require <a href="http://www.pointclouds.org">PCL</a> to read <a href="http://www.pointclouds.org/documentation/tutorials/pcd_file_format.php">PCD files</a>).</li>
<li>Doxygen documentation provided for API reference (see doc/index.html).</li>
<li>Licensed under [MIT license](LICENSE).</li>
</ul>
<h2>Algorithms</h2>
<p>To perform a point cloud segmentation, pcps provides the following algorithms:</p>
<ul>
<li>Organizer: organizes the given <a href="http://pointclouds.org/documentation/tutorials/basic_structures.php">disorganized point cloud</a>.</li>
<li>NormalExtractor: estimates local surface normals at each point of the given organized point cloud.</li>
<li>NormalSplitter: splits a given organized normal cloud into regions with low standard deviation.</li>
<li>NormalMerger: merges the given normal regions into planes (groups) with low standard deviation.</li>
</ul>
<h2>Tested build configurations (minimum required versions may be lower)</h2>
<ul>
<li>Ubuntu 16.04 with gcc 5.4.0.</li>
<li>Ubuntu 18.04 with gcc 7.3.0.</li>
</ul>
<h2>Usage</h2>
<p>The following example shows how to load a <a href="http://www.pointclouds.org">PCL point cloud</a> stored in a PCL file <a href="http://www.pointclouds.org/documentation/tutorials/pcd_file_format.php">PCD file</a>) and segment it into planes:</p>
<div class="fragment"><div class="line">{C++}</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;pcl/io/pcd_io.h&gt;</div><div class="line">#include &quot;catch.hpp&quot;</div><div class="line">#include &quot;pcps_pcl.h&quot;</div><div class="line">#include &quot;pcps_context.h&quot;</div><div class="line">#include &quot;pcps_plane_segmentator.h&quot;</div><div class="line"></div><div class="line">int main(int argc, char** argv)</div><div class="line">{</div><div class="line">    pcl::PointCloud&lt;pcl::PointXYZ&gt; pclPointCloud;</div><div class="line"></div><div class="line">    if(pcl::io::loadPCDFile(&quot;/path/to/pcl_cloud_file.pcd&quot;, pclPointCloud))</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; &quot;pcl::io::loadPCDFile failed&quot; &lt;&lt; std::endl;</div><div class="line">        return -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    pcps::Cloud pointCloud;</div><div class="line">    pcps::fromPCL(pclPointCloud, pointCloud);</div><div class="line"></div><div class="line">    pcps::PlaneSegmentator planeSegmentator;</div><div class="line">    std::vector&lt;pcps::Plane&gt; planes;</div><div class="line">    std::unique_ptr&lt;pcps::Context&gt; context = pcps::Context::buildDefault();</div><div class="line"></div><div class="line">    if(! planeSegmentator.segmentate(pointCloud, planes, *context))</div><div class="line">    {</div><div class="line">        std::cerr &lt;&lt; &quot;pcl::io::loadPCDFile failed&quot; &lt;&lt; std::endl;</div><div class="line">        return -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    return 0;</div><div class="line">}</div></div><!-- fragment --><h2>How to build</h2>
<p>A CMakeLists.txt is provided with this library, so in order to use it you only need to include this file in your CMake project.</p>
<h3>How to build the library with the CPU implementation</h3>
<p>For the CPU implementation there's no external dependencies required, so the only software requirements are a C++11-compatible compiler and CMake &gt;= 3.4:</p>
<div class="fragment"><div class="line">sudo apt install build-essential cmake</div><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake -DPCPS_IMPLEMENTATION=CPU -DCMAKE_BUILD_TYPE=Release ..</div><div class="line">make -j&lt;number_of_cpu_cores&gt;</div></div><!-- fragment --><h3>How to build the library with the OpenCL implementation</h3>
<p>The OpenCL implementation can segment an <a href="http://pointclouds.org/documentation/tutorials/basic_structures.php">unorganized point cloud</a> of 320x320 on a Nvidia Geforce GTX 1060 6GB more than 23 times faster than the CPU implementation:</p>
<div class="fragment"><div class="line">sudo apt install build-essential cmake</div><div class="line">sudo apt install ocl-icd-libopencl1 opencl-headers clinfo ocl-icd-opencl-dev</div><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake -DPCPS_IMPLEMENTATION=OpenCL -DCMAKE_BUILD_TYPE=Release ..</div><div class="line">make -j&lt;number_of_cpu_cores&gt;</div></div><!-- fragment --><h3>How to build the library with the CUDA implementation</h3>
<p>The CUDA implementation can segment an <a href="http://pointclouds.org/documentation/tutorials/basic_structures.php">unorganized point cloud</a> of 320x320 on a Nvidia Geforce GTX 1060 6GB more than 30 times faster than the CPU implementation:</p>
<div class="fragment"><div class="line">sudo apt install build-essential cmake</div><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake -DPCPS_IMPLEMENTATION=CUDA -DCMAKE_BUILD_TYPE=Release ..</div><div class="line">make -j&lt;number_of_cpu_cores&gt;</div></div><!-- fragment --><h3>How to build and run the unit tests</h3>
<p>The unit tests require <a href="http://www.pointclouds.org">PCL</a> to read <a href="http://www.pointclouds.org/documentation/tutorials/pcd_file_format.php">PCD files</a>.</p>
<p>For example, to build and run the unit tests with the OpenCL implementation:</p>
<div class="fragment"><div class="line">sudo apt install build-essential cmake</div><div class="line">sudo apt install ocl-icd-libopencl1 opencl-headers clinfo ocl-icd-opencl-dev</div><div class="line">sudo apt install libproj-dev libpcl-dev</div><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake -DPCPS_BUILD_TESTS=ON -DPCPS_IMPLEMENTATION=OpenCL -DCMAKE_BUILD_TYPE=Release ..</div><div class="line">make -j&lt;number_of_cpu_cores&gt;</div><div class="line">./tests/pcps-tests</div></div><!-- fragment --><h3>How to build and run the viewer</h3>
<p>The provided 3D test viewer allows to see the output of each segmentation algorithm and to change their thresholds.</p>
<p>The viewer requires <a href="http://www.pointclouds.org">PCL</a> to read <a href="http://www.pointclouds.org/documentation/tutorials/pcd_file_format.php">PCD files</a>.</p>
<p>For example, to build and run the viewer with the OpenCL implementation:</p>
<div class="fragment"><div class="line">sudo apt install build-essential cmake</div><div class="line">sudo apt install ocl-icd-libopencl1 opencl-headers clinfo ocl-icd-opencl-dev</div><div class="line">sudo apt install libproj-dev libpcl-dev</div><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake -DPCPS_BUILD_VIEWER=ON -DPCPS_IMPLEMENTATION=OpenCL -DCMAKE_BUILD_TYPE=Release ..</div><div class="line">make -j&lt;number_of_cpu_cores&gt;</div><div class="line">./tests/pcps-viewer</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
